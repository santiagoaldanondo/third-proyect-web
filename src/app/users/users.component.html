<h1>List of users in your account</h1>

<a (click)="toggleEdit()"> Add a new user to the account </a>

<form (ngSubmit)="onSubmitAddToAccount()" #addToAccountForm="ngForm">
  <table *ngIf="!loading; else loadingMsg">
    <thead>
      <th>First Name</th>
      <th>Last Name</th>
      <th>email</th>
      <th>Password</th>
      <th></th>
    </thead>
    <tr [hidden]="!isEditing">
      <td><input type="text" name="firstName" [(ngModel)]="newUser.firstName" required></td>
      <td><input type="text" name="lastName" [(ngModel)]="newUser.lastName" required></td>
      <td><input type="text" name="email" [(ngModel)]="newUser.email" required></td>
      <td><input type="password" name="password" [(ngModel)]="newUser.password" required></td>
      <td>
        <button type="submit" [disabled]="!addToAccountForm.valid"> Save </button>
        <a (click)="toggleEdit()"> X </a>
      </td>
    </tr>
    <tr *ngFor="let user of users; trackBy: trackByUsers">
      <td>{{user.firstName}}</td>
      <td>{{user.lastName}}</td>
      <td>{{user.email}}</td>
      <td></td>
    </tr>
  </table>
</form>

<ng-template #loadingMsg>
  Loading your posts...
</ng-template>